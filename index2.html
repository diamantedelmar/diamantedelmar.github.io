<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to Diamante del Mar Phaedra</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .section-screen, #concierge-chat {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(247, 250, 252, 0.95); /* light gray with transparency */
            backdrop-filter: blur(10px);
            z-index: 50;
            overflow-y: auto;
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
        }
        .section-screen.active, #concierge-chat.active {
            transform: translateX(0);
        }
        .card {
            background-color: white;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .grid-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 1rem;
            border-radius: 1rem;
            background: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border: 1px solid rgba(226, 232, 240, 1);
            transition: all 0.2s ease-in-out;
        }
        .grid-button:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        .section-header {
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            z-index: 10;
        }
        .prose-custom p, .prose-custom li {
            color: #4A5568;
        }
        .prose-custom h3 {
            color: #2D3748;
            font-weight: 600;
        }
        #home-screen {
            background-image: url('https://images.unsplash.com/photo-1602261595832-de4243563a33?q=80&w=1974&auto=format&fit=crop');
            background-size: cover;
            background-position: center;
        }
        .chat-bubble {
            max-width: 75%;
            padding: 0.75rem 1rem;
            border-radius: 1rem;
            margin-bottom: 0.5rem;
            word-wrap: break-word;
        }
        .user-bubble {
            background-color: #3b82f6;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 0.25rem;
        }
        .ai-bubble {
            background-color: #e5e7eb;
            color: #1f2937;
            align-self: flex-start;
            border-bottom-left-radius: 0.25rem;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div id="app" class="max-w-md mx-auto min-h-screen bg-gray-100">
        
        <div id="home-screen" class="relative min-h-screen">
             <div class="absolute inset-0 bg-black/30"></div>
            <div class="relative z-10 p-6 pt-16">
                 <div class="text-center mb-8 bg-white/80 backdrop-blur-sm p-4 rounded-xl shadow-lg">
                    <h1 class="text-3xl font-bold text-gray-800">Welcome Book</h1>
                </div>
                <main>
                    <div class="grid grid-cols-2 gap-4">
                        <button onclick="showSection('welcome-section')" class="grid-button">
                            <i data-lucide="sun" class="w-10 h-10 text-blue-500 mb-2"></i>
                            <span class="font-semibold text-gray-700">Welcome</span>
                        </button>
                        <button onclick="showSection('essentials-section')" class="grid-button">
                            <i data-lucide="key-round" class="w-10 h-10 text-blue-500 mb-2"></i>
                            <span class="font-semibold text-gray-700">Apartment Info</span>
                        </button>
                        <button onclick="showSection('guide-section')" class="grid-button">
                            <i data-lucide="map" class="w-10 h-10 text-blue-500 mb-2"></i>
                            <span class="font-semibold text-gray-700">Island Guide</span>
                        </button>
                        <button onclick="showConcierge()" class="grid-button">
                            <i data-lucide="bot" class="w-10 h-10 text-blue-500 mb-2"></i>
                            <span class="font-semibold text-gray-700">Digital AI Concierge</span>
                        </button>
                        <button onclick="showSection('events-section')" class="grid-button">
                            <i data-lucide="calendar-days" class="w-10 h-10 text-blue-500 mb-2"></i>
                            <span class="font-semibold text-gray-700">Events in Kos</span>
                        </button>
                        <button onclick="showSection('local-products-section')" class="grid-button">
                            <i data-lucide="shopping-bag" class="w-10 h-10 text-blue-500 mb-2"></i>
                            <span class="font-semibold text-gray-700">Local Products</span>
                        </button>
                        <button onclick="showSection('itinerary-section')" class="grid-button">
                            <i data-lucide="list-checks" class="w-10 h-10 text-blue-500 mb-2"></i>
                            <span class="font-semibold text-gray-700">Itinerary</span>
                        </button>
                        <button onclick="showSection('island-hopping-section')" class="grid-button">
                            <i data-lucide="sailboat" class="w-10 h-10 text-blue-500 mb-2"></i>
                            <span class="font-semibold text-gray-700">Island Hopping</span>
                        </button>
                        <button onclick="showSection('transport-section')" class="grid-button">
                            <i data-lucide="bus" class="w-10 h-10 text-blue-500 mb-2"></i>
                            <span class="font-semibold text-gray-700">Getting Around</span>
                        </button>
                        <button onclick="showSection('important-section')" class="grid-button">
                            <i data-lucide="siren" class="w-10 h-10 text-blue-500 mb-2"></i>
                            <span class="font-semibold text-gray-700">Important Info</span>
                        </button>
                        <button onclick="showSection('departure-section')" class="grid-button">
                            <i data-lucide="log-out" class="w-10 h-10 text-blue-500 mb-2"></i>
                            <span class="font-semibold text-gray-700">Departure</span>
                        </button>
                    </div>
                </main>
            </div>
        </div>

        <!-- Sections from original HTML go here, unchanged -->
        <div id="welcome-section" class="section-screen">
            <header class="section-header p-4 flex items-center shadow-md">
                <button onclick="goBack()" class="p-2 rounded-full hover:bg-gray-200">
                    <i data-lucide="arrow-left" class="w-6 h-6 text-gray-700"></i>
                </button>
                <h2 class="text-xl font-bold text-gray-800 mx-auto">Welcome to Paradise!</h2>
            </header>
            <div class="p-6 prose-custom">
                <h3 class="text-2xl font-bold mb-4">Kalós órises!</h3>
                <p class="mb-4">Welcome to Kos, and welcome to Diamante del Mar Phaedra. We are absolutely delighted to host you on this enchanting Dodecanese island. Recently renovated and designed with style and comfort in mind, we hope our home serves as your perfect sanctuary to explore the captivating blend of ancient history, sun-drenched beaches, and vibrant island life that makes Kos so special.</p>
                <p class="mb-4">Kos invites you to slow down, breathe in the sea air, wander through millennia of history, and savour the simple pleasures. We hope you fall in love with its unique charm just as we have.</p>
                <h3 class="text-xl font-semibold mt-6 mb-2">About This Guide</h3>
                <p>Think of this book as your curated introduction to living like a stylish local. We've gathered essential information to help you settle in effortlessly, alongside our personal recommendations for discovering the island's highlights. Now, relax, unwind, and let your Kos story begin!</p>
            </div>
        </div>

        <div id="essentials-section" class="section-screen">
            <header class="section-header p-4 flex items-center shadow-md">
                <button onclick="goBack()" class="p-2 rounded-full hover:bg-gray-200">
                    <i data-lucide="arrow-left" class="w-6 h-6 text-gray-700"></i>
                </button>
                <h2 class="text-xl font-bold text-gray-800 mx-auto">Apartment Info</h2>
            </header>
            <div class="p-6 space-y-6">
                <div class="card p-6">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><i data-lucide="map-pin" class="w-5 h-5 mr-2 text-blue-500"></i>Address</h3>
                    <p class="text-gray-600">Diamante Del Mar Phaedra</p>
                    <p class="text-gray-600">Σοφοκλή Βενιζέλου 54 (Sophokli Venizelou 54)</p>
                    <p class="text-gray-600">Kos Town, 853 00</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=Diamante+Del+Mar+Phaedra,+Sophokli+Venizelou+54,+Kos+Town,+85300" target="_blank" class="inline-flex items-center mt-2 text-blue-600 font-semibold hover:underline">Open in Maps <i data-lucide="external-link" class="w-4 h-4 ml-1"></i></a>
                </div>
                <div class="card p-6">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><i data-lucide="clock" class="w-5 h-5 mr-2 text-blue-500"></i>Check-in & Out</h3>
                    <p class="text-gray-600"><strong>Check-in:</strong> After 16:00 (4:00 PM)</p>
                    <p class="text-gray-600"><strong>Lockbox Code:</strong> 1723</p>
                    <p class="text-gray-600 mt-2"><strong>Check-out:</strong> By 11:00 AM</p>
                    <p class="text-gray-500 text-sm mt-1">Please leave keys on the Lock Box.</p>
                </div>
                <div class="card p-6">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><i data-lucide="wifi" class="w-5 h-5 mr-2 text-blue-500"></i>Wi-Fi Access</h3>
                    <p class="text-gray-600"><strong>Network:</strong> Phaedra</p>
                    <div class="flex justify-between items-center mt-1">
                        <p class="text-gray-600"><strong>Password:</strong> <span id="wifi-password">Phaedra!22420@</span></p>
                        <button onclick="copyToClipboard('#wifi-password')" class="bg-blue-500 text-white px-3 py-1 rounded-lg text-sm font-semibold hover:bg-blue-600">Copy</button>
                    </div>
                </div>
                <div class="card p-6">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><i data-lucide="home" class="w-5 h-5 mr-2 text-blue-500"></i>House Rules</h3>
                    <ul class="list-disc list-inside text-gray-600 space-y-1">
                        <li><strong>Strictly non-smoking</strong> indoors.</li>
                        <li><strong>No pets</strong> allowed.</li>
                        <li>Quiet hours: <strong>22:00 - 07:00</strong>.</li>
                        <li><strong>No parties</strong> or large gatherings.</li>
                        <li>Only registered guests may stay overnight.</li>
                    </ul>
                </div>
                 <div class="card p-6">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><i data-lucide="book-open" class="w-5 h-5 mr-2 text-blue-500"></i>Appliance Manuals</h3>
                    <p class="text-gray-600 mb-4">Scan the QR code with your phone's camera to view the manual for each appliance.</p>
                    <div class="grid grid-cols-2 gap-4 text-center">
                        <div>
                            <p class="font-medium text-gray-700">Microwave</p>
                            <a href="https://www.grundig.com/content/dam/rainbow-grundig-greece-gr-aem/rainbow-grundig-greece-gr-aemProductCatalog/product-documents/8897453600-GMI-12311-B/en-US-8897453600-20221020135181-User-Manual---File-Longsv-SE.pdf"><img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://www.grundig.com/content/dam/rainbow-grundig-greece-gr-aem/rainbow-grundig-greece-gr-aemProductCatalog/product-documents/8897453600-GMI-12311-B/en-US-8897453600-20221020135181-User-Manual---File-Longsv-SE.pdf" alt="QR Code for Microwave Manual" class="mx-auto mt-1 rounded-lg"></a>
                        </div>
                        <div>
                            <p class="font-medium text-gray-700">Oven</p>
                           <a href="https://www.grundig.com/content/dam/rainbow-grundig-greece-gr-aem/rainbow-grundig-greece-gr-aemProductCatalog/product-documents/7768282928-Edition-75-Backofenset/en-US-7768282928-202311021237674-User-Manual---File-Longen-US.pdf"> <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://www.grundig.com/content/dam/rainbow-grundig-greece-gr-aem/rainbow-grundig-greece-gr-aemProductCatalog/product-documents/7768282928-Edition-75-Backofenset/en-US-7768282928-202311021237674-User-Manual---File-Longen-US.pdf" alt="QR Code for Oven Manual" class="mx-auto mt-1 rounded-lg"></a>
                        </div>
                        <div>
                            <p class="font-medium text-gray-700">Nespresso Coffee machine</p>
                            <a href="https://www.nespresso.com/shared_res/manuals/essenza-mini/2017/UM_NESPRESSO_ESSENZA_MINI_KRUPS_PROD_WEB_2017_02_20.pdf"><img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://www.nespresso.com/shared_res/manuals/essenza-mini/2017/UM_NESPRESSO_ESSENZA_MINI_KRUPS_PROD_WEB_2017_02_20.pdf" alt="QR Code for Nespresso Manual" class="mx-auto mt-1 rounded-lg"></a>
                        </div>
                        <div>
                            <p class="font-medium text-gray-700">Washing Machine</p>
                            <a href="https://morris.gr/wp-content/uploads/2023/12/Instructions-manual-WIW-81411BI.pdf"><img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://morris.gr/wp-content/uploads/2023/12/Instructions-manual-WIW-81411BI.pdf" alt="QR Code for Washing Machine Manual" class="mx-auto mt-1 rounded-lg"></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="guide-section" class="section-screen">
            <header class="section-header p-4 flex items-center shadow-md">
                <button onclick="goBack()" class="p-2 rounded-full hover:bg-gray-200">
                    <i data-lucide="arrow-left" class="w-6 h-6 text-gray-700"></i>
                </button>
                <h2 class="text-xl font-bold text-gray-800 mx-auto">Island Guide</h2>
            </header>
            <div class="p-6 space-y-8">
                <div class="card overflow-hidden p-0 bg-blue-50 border border-blue-200">
                    <img src="https://images.unsplash.com/photo-1551028150-64b9f398f67b?q=80&w=800&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://xasapaki.gr/wp-content/uploads/2023/05/DSC01818-scaled.jpg';" alt="A perfectly grilled steak" class="w-full h-40 object-cover">
                    <div class="p-4">
                        <h3 class="font-bold text-xl mb-2 text-blue-800 flex items-center"><i data-lucide="star" class="w-6 h-6 mr-2 text-yellow-500 fill-current"></i>Host's Top Pick: Xasapaki</h3>
                        <p class="text-blue-700 mb-3">For an unforgettable meal, visit Xasapaki. It's a unique butcher shop and steakhouse where you pick your cut of meat and they grill it to perfection. Their burgers are legendary!</p>
                        <div class="flex space-x-2">
                           <a href="https://xasapaki.gr/" target="_blank" class="inline-flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700">Visit Website</a>
                           <a href="https://www.google.com/maps/search/?api=1&query=Xasapaki+Kos" target="_blank" class="inline-flex items-center bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-semibold hover:bg-gray-300">View on Map</a>
                        </div>
                    </div >
                </div>

                <div>
                    <h3 class="text-2xl font-bold mb-4 text-gray-800">Dining & Coffee</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="card overflow-hidden p-0"><img src="https://images.unsplash.com/photo-1559305459-49de9734d355?q=80&w=800&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://imageproxy.wolt.com/assets/67335dc042b21b5c7ee59154';" alt="A delicious brunch spread" class="w-full h-32 object-cover"><div class="p-4"><h4 class="font-semibold text-lg">Alchimion & The Cup</h4><p class="text-gray-600 mt-1">Your go-to spots for breakfast, brunch, and specialty coffee.</p><a href="https://www.google.com/maps/search/?api=1&query=Alchimion+%26+The+Cup,+Kos" target="_blank" class="inline-flex items-center mt-2 text-blue-600 font-semibold hover:underline">View on Map <i data-lucide="external-link" class="w-4 h-4 ml-1"></i></a></div></div>
                        <div class="card overflow-hidden p-0"><img src="https://images.unsplash.com/photo-1541592106381-b5863c023904?q=80&w=800&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://www.athinorama.gr/Content/ImagesDatabase/p/750x422/crop/both/a5/a5468d17cae94a7dad807007ceefddf8.jpg?quality=81&404=default&v=4';" alt="Fresh seafood pasta" class="w-full h-32 object-cover"><div class="p-4"><h4 class="font-semibold text-lg">Barbouni</h4><p class="text-gray-600 mt-1">Top choice for fresh seafood by the water near the port.</p><a href="https://www.google.com/maps/search/?api=1&query=Barbouni+Kos" target="_blank" class="inline-flex items-center mt-2 text-blue-600 font-semibold hover:underline">View on Map <i data-lucide="external-link" class="w-4 h-4 ml-1"></i></a></div></div>
                        <div class="card overflow-hidden p-0"><img src="https://images.unsplash.com/photo-1622234994112-c94831e67991?q=80&w=800&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://media-01.imu.nl/storage/ourplanetinmylens.com/21978/restaurants-kos-greece-patriko-800x533.jpg';" alt="A spread of Greek meze" class="w-full h-32 object-cover"><div class="p-4"><h4 class="font-semibold text-lg">Patriko</h4><p class="text-gray-600 mt-1">A family-run gem for authentic Greek meze. Try the baked feta with honey.</p><a href="https://www.google.com/maps/search/?api=1&query=Patriko+Restaurant+Kos" target="_blank" class="inline-flex items-center mt-2 text-blue-600 font-semibold hover:underline">View on Map <i data-lucide="external-link" class="w-4 h-4 ml-1"></i></a></div></div>
                    </div>
                </div>

                <div>
                    <h3 class="text-2xl font-bold mb-4 text-gray-800">Beaches</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="card overflow-hidden p-0"><img src="https://images.unsplash.com/photo-1625450438349-5975e50cf582?q=80&w=800&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://media.jet2.com/is/image/jet2/313976-kgs_lambi_0813_02_ps?$Original-Dynamic(max1280x1280)$&wid=1920&hei=500&fit=crop%2C1&dpr=off';" alt="Sandy beach with umbrellas" class="w-full h-32 object-cover"><div class="p-4"><h4 class="font-semibold text-lg">Lambi Beach</h4><p class="text-gray-600 mt-1">Your closest neighbour! A popular sandy stretch perfect for a quick swim.</p><a href="https://www.google.com/maps/search/?api=1&query=Lambi+Beach+Kos" target="_blank" class="inline-flex items-center mt-2 text-blue-600 font-semibold hover:underline">View on Map <i data-lucide="external-link" class="w-4 h-4 ml-1"></i></a></div></div>
                        <div class="card overflow-hidden p-0"><img src="https://images.unsplash.com/photo-1628189531122-8353e813a8c5?q=80&w=800&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://www.jet2holidays.com/-/media/destination%20guide/greece/kos/cfu_agios_stefanos_beach_1497481107_getty_1023_01_rgb-136-dpi-for-web-min.jpg?h=500&w=1920&crop=1&hash=6B2D4846664312303EC275100A9440EB%201024w';" alt="Beach with a church on an islet" class="w-full h-32 object-cover"><div class="p-4"><h4 class="font-semibold text-lg">Agios Stefanos</h4><p class="text-gray-600 mt-1">Arguably Kos's most photogenic beach, with views of Kastri islet.</p><a href="https://www.google.com/maps/search/?api=1&query=Agios+Stefanos+Beach+Kefalos+Kos" target="_blank" class="inline-flex items-center mt-2 text-blue-600 font-semibold hover:underline">View on Map <i data-lucide="external-link" class="w-4 h-4 ml-1"></i></a></div></div>
                        <div class="card overflow-hidden p-0"><img src="https://images.unsplash.com/photo-1617066808546-32d56a237190?q=80&w=800&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://www.reckonasbavi.cz/wp-content/uploads/2023/08/Therma-beach-Embros-prirodni-termalni-lazne-na-ostrove-Kos.jpg.jpg';" alt="Rocky beach with hot springs" class="w-full h-32 object-cover"><div class="p-4"><h4 class="font-semibold text-lg">Therma Beach</h4><p class="text-gray-600 mt-1">A unique natural spa experience where hot springs flow into the sea.</p><a href="https://www.google.com/maps/search/?api=1&query=Therma+Beach+Kos" target="_blank" class="inline-flex items-center mt-2 text-blue-600 font-semibold hover:underline">View on Map <i data-lucide="external-link" class="w-4 h-4 ml-1"></i></a></div></div>
                         <div class="card overflow-hidden p-0"><img src="https://images.unsplash.com/photo-1507525428034-b723a996f329?q=80&w=800&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://www.vacanzekos.com/wp-content/uploads/2016/02/paradise-beach.jpg';" alt="A stunning sandy beach with turquoise water" class="w-full h-32 object-cover"><div class="p-4"><h4 class="font-semibold text-lg">Paradise Beach</h4><p class="text-gray-600 mt-1">Golden sand and shallow, calm waters make this beach perfect for families.</p><a href="https://www.google.com/maps/search/?api=1&query=Paradise+Beach+Kos" target="_blank" class="inline-flex items-center mt-2 text-blue-600 font-semibold hover:underline">View on Map <i data-lucide="external-link" class="w-4 h-4 ml-1"></i></a></div></div>
                    </div>
                </div>

                <div>
                    <h3 class="text-2xl font-bold mb-4 text-gray-800">History & Villages</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="card overflow-hidden p-0"><img src="https://images.unsplash.com/photo-1628189531233-a3a2de7c858e?q=80&w=800&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://www.vacanzegreche.com/public/img/data/2019101794859527_asklepion-isola-di-kos.jpg'" class="w-full h-32 object-cover"><div class="p-4"><h4 class="font-semibold text-lg">The Asklepion</h4><p class="text-gray-600 mt-1">The island's most important archaeological site, linked to Hippocrates.</p><a href="https://www.google.com/maps/search/?api=1&query=Asklepion+Kos" target="_blank" class="inline-flex items-center mt-2 text-blue-600 font-semibold hover:underline">View on Map <i data-lucide="external-link" class="w-4 h-4 ml-1"></i></a></div></div>
                        <div class="card overflow-hidden p-0"><img src="https://images.unsplash.com/photo-1540899979346-a4c4987053e4?q=80&w=800&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://as1.ftcdn.net/jpg/02/95/44/86/1000_F_295448668_PNfl3bFQOS2eT3vWez1r1MlrlhyB0TFF.webp';" alt="Sunset over a Greek village" class="w-full h-32 object-cover"><div class="p-4"><h4 class="font-semibold text-lg">Zia Village</h4><p class="text-gray-600 mt-1">A must-visit mountain village for breathtaking sunset views.</p><a href="https://www.google.com/maps/search/?api=1&query=Zia+Village+Kos" target="_blank" class="inline-flex items-center mt-2 text-blue-600 font-semibold hover:underline">View on Map <i data-lucide="external-link" class="w-4 h-4 ml-1"></i></a></div></div>
                        <div class="card overflow-hidden p-0"><img src="https://images.unsplash.com/photo-1628189531065-a8a4f0b2f5d7?q=80&w=800&auto=format&fit=crop" onerror="this.onerror=null;this.src='https://a.travel-assets.com/findyours-php/viewfinder/images/res70/73000/73702-Kos-Castle.jpg';" alt="A stone castle by the sea" class="w-full h-32 object-cover"><div class="p-4"><h4 class="font-semibold text-lg">Neratzia Castle</h4><p class="text-gray-600 mt-1">An impressive 15th-century castle guarding the harbour entrance.</p><a href="https://www.google.com/maps/search/?api=1&query=Neratzia+Castle+Kos" target="_blank" class="inline-flex items-center mt-2 text-blue-600 font-semibold hover:underline">View on Map <i data-lucide="external-link" class="w-4 h-4 ml-1"></i></a></div></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="transport-section" class="section-screen">
            <header class="section-header p-4 flex items-center shadow-md">
                <button onclick="goBack()" class="p-2 rounded-full hover:bg-gray-200">
                    <i data-lucide="arrow-left" class="w-6 h-6 text-gray-700"></i>
                </button>
                <h2 class="text-xl font-bold text-gray-800 mx-auto">Getting Around Kos</h2>
            </header>
            <div class="p-6 space-y-6">
                <div class="card p-6">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><i data-lucide="car" class="w-5 h-5 mr-2 text-blue-500"></i>Rental Car / Scooter</h3>
                    <p class="text-gray-600">Highly recommended for the most freedom to explore remote beaches and villages. Book in advance during summer.</p>
                </div>
                <div class="card p-6">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><i data-lucide="bus" class="w-5 h-5 mr-2 text-blue-500"></i>KTEL Intercity Buses</h3>
                    <p class="text-gray-600">An economical way to travel between major towns and resorts. The main station is at 7 Kleopatras Street. Check schedules online at <a href="http://www.ktel-kos.gr" target="_blank" class="text-blue-600 hover:underline">ktel-kos.gr</a>.</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=KTEL+Bus+Station+Kleopatras+7+Kos" target="_blank" class="inline-flex items-center mt-2 text-blue-600 font-semibold hover:underline">View Station on Map <i data-lucide="external-link" class="w-4 h-4 ml-1"></i></a>
                </div>
                <div class="card p-6">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><i data-lucide="bike" class="w-5 h-5 mr-2 text-blue-500"></i>Cycling</h3>
                    <p class="text-gray-600">Kos's flat terrain makes cycling a great option for short distances, especially along the coast. Rentals are widely available.</p>
                </div>
                <div class="card p-6">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><i data-lucide="taxi" class="w-5 h-5 mr-2 text-blue-500"></i>Taxis</h3>
                    <p class="text-gray-600">Readily available. Find them at ranks or book by phone. Agree on a price for long journeys. Kos Town Radio Taxi: <a href="tel:+302242022777" class="text-blue-600 hover:underline">+30 22420 22777</a></p>
                </div>
            </div>
        </div>

        <div id="important-section" class="section-screen">
            <header class="section-header p-4 flex items-center shadow-md">
                <button onclick="goBack()" class="p-2 rounded-full hover:bg-gray-200">
                    <i data-lucide="arrow-left" class="w-6 h-6 text-gray-700"></i>
                </button>
                <h2 class="text-xl font-bold text-gray-800 mx-auto">Important Info</h2>
            </header>
            <div class="p-6 space-y-6">
                 <div class="card p-6 border-2 border-red-500">
                    <h3 class="font-semibold text-lg mb-2 flex items-center text-red-600"><i data-lucide="siren" class="w-5 h-5 mr-2"></i>Emergency Numbers</h3>
                    <p class="text-gray-700 text-lg">For any emergency, call:</p>
                    <a href="tel:112" class="block text-center my-3 text-3xl font-bold text-red-600 bg-red-100 p-4 rounded-lg tracking-widest">112</a>
                    <ul class="list-disc list-inside text-gray-600 space-y-1">
                        <li><strong>Ambulance:</strong> 166</li>
                        <li><strong>Police:</strong> 100</li>
                        <li><strong>Fire Department:</strong> 199</li>
                    </ul>
                </div>
                <div class="card p-6">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><i data-lucide="user" class="w-5 h-5 mr-2 text-blue-500"></i>Host Contact</h3>
                    <p class="text-gray-600"><strong>Name:</strong> Varthakouris Ioannis</p>
                    <p class="text-gray-600"><strong>Phone / WhatsApp:</strong></p>
                     <a href="https://wa.me/306942575314" target="_blank" class="block text-center my-2 text-xl font-semibold text-green-600 bg-green-100 p-3 rounded-lg hover:bg-green-200">+30 6942 575314</a>
                    <p class="text-sm text-gray-500">WhatsApp is preferred for non-urgent queries (9 AM - 8 PM). Please call for urgent issues.</p>
                </div>
                <div class="card p-6">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><i data-lucide="shopping-cart" class="w-5 h-5 mr-2 text-blue-500"></i>Nearby Essentials</h3>
                    <p class="text-gray-600"><strong>Supermarket:</strong> AB Vassilopoulos is just a 1-minute walk away for groceries.</p>
                    <p class="text-gray-600 mt-2"><strong>ATM:</b> Available at the entrance of the AB Vassilopoulos supermarket.</p>
                    <p class="text-gray-600 mt-2"><strong>Pharmacy (Φαρμακείο):</strong> Several nearby. Look for a green cross sign. A list of on-duty pharmacies is posted on their doors.</p>
                </div>
            </div>
        </div>

        <div id="departure-section" class="section-screen">
            <header class="section-header p-4 flex items-center shadow-md">
                <button onclick="goBack()" class="p-2 rounded-full hover:bg-gray-200">
                    <i data-lucide="arrow-left" class="w-6 h-6 text-gray-700"></i>
                </button>
                <h2 class="text-xl font-bold text-gray-800 mx-auto">Until Next Time...</h2>
            </header>
            <div class="p-6 prose-custom">
                <h3 class="text-2xl font-bold mb-4">A Fond Farewell</h3>
                <p class="mb-4">As your time on the beautiful island of Kos draws to a close, we want to extend our sincerest thanks for choosing to stay with us. We truly hope you've had a wonderful and memorable holiday.</p>
                
                <div class="card my-6 bg-blue-50 p-6">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><i data-lucide="check-circle" class="w-5 h-5 mr-2 text-blue-500"></i>Check-out Reminder</h3>
                    <ul class="list-disc list-inside text-gray-600 space-y-1">
                        <li>Check-out time is by <strong>11:00 AM</strong>.</li>
                        <li>Please leave the <strong>keys in the lockbox</strong>.</li>
                        <li>Ensure all personal belongings are packed.</li>
                        <li>Turn off all lights and A/C units.</li>
                    </ul>
                </div>

                <h3 class="text-xl font-semibold mt-6 mb-2">Share Your Experience</h3>
                <p>If you enjoyed your stay, we would be incredibly grateful if you could leave a review on the platform you used for booking or in our <a href="https://g.page/r/CbUXM_AzUnc5EAE/review">Google Business Profile</a>. Your feedback helps future travellers discover our little piece of paradise.</p>
                
                <h3 class="text-xl font-semibold mt-6 mb-2">Stay Connected</h3>
                <p>Follow us on Instagram <a href="https://www.instagram.com/diamantedelmar.phaedra" target="_blank" class="text-blue-600 hover:underline">@diamantedelmar.phaedra</a> .</p>

                <p class="mt-8">Thank you once again. We wish you a safe and pleasant journey onwards!</p>
            </div>
        </div>
        
        <div id="events-section" class="section-screen">
            <header class="section-header p-4 flex items-center shadow-md">
                <button onclick="goBack()" class="p-2 rounded-full hover:bg-gray-200">
                    <i data-lucide="arrow-left" class="w-6 h-6 text-gray-700"></i>
                </button>
                <h2 class="text-xl font-bold text-gray-800 mx-auto">HIPPOCRATEIA 2025</h2>
            </header>
            <div class="p-6">
                <div class="mb-6">
                    <label for="event-date-filter" class="block text-gray-700 text-sm font-bold mb-2">Filter by Date:</label>
                    <input type="date" id="event-date-filter" class="shadow appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
                </div>
                <div id="events-list" class="grid grid-cols-1 gap-8">
                </div>
                <div id="no-events-message" class="text-center text-gray-600 mt-8 hidden">
                    No events found for the selected date.
                </div>
            </div>
        </div>

        <div id="local-products-section" class="section-screen">
            <header class="section-header p-4 flex items-center shadow-md">
                <button onclick="goBack()" class="p-2 rounded-full hover:bg-gray-200">
                    <i data-lucide="arrow-left" class="w-6 h-6 text-gray-700"></i>
                </button>
                <h2 class="text-xl font-bold text-gray-800 mx-auto">Local Products of Kos</h2>
            </header>
            <div class="p-6 space-y-8">
                <p class="text-gray-700 mb-4">Kos is rich in local produce and traditional goods that make for wonderful souvenirs. Here are some of our favorites:</p>
                <div class="card overflow-hidden p-0">
                    <img src="https://melitaygetos.gr/wp-content/uploads/2021/05/meli-1.jpg" onerror="this.onerror=null;this.src='https://www.kos.gr/sites/default/files/styles/flexslider_full/public/2020-03/melikoukouvas.jpg?itok=f4f4f4f4';" alt="Kos Honey" class="w-full h-40 object-cover">
                    <div class="p-4">
                        <h3 class="font-semibold text-xl mb-2 text-gray-800">Kos Honey</h3>
                        <p class="text-gray-600 mb-2">Kos is known for its excellent thyme honey, rich in aroma and flavor. It's a natural sweetener and a healthy treat.</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="itinerary-section" class="section-screen">
            <header class="section-header p-4 flex items-center shadow-md">
                <button onclick="goBack()" class="p-2 rounded-full hover:bg-gray-200">
                    <i data-lucide="arrow-left" class="w-6 h-6 text-gray-700"></i>
                </button>
                <h2 class="text-xl font-bold text-gray-800 mx-auto">5-Day Kos Itinerary</h2>
            </header>
            <div class="p-6 space-y-8">
                <p class="text-gray-700 mb-4">Here's a suggested 5-day itinerary to help you make the most of your visit to Kos Island, blending history, relaxation, and local experiences.</p>
                <div class="card overflow-hidden p-0">
                    <img src="https://images.musement.com/cover/0155/33/thumb_15432571_cover_header.jpg?q=50&fit=crop&auto=format&w=1680&h=600&dpr=1" onerror="this.onerror=null;this.src='https://images.unsplash.com/photo-1590530325942-15f23e42b267?q=80&w=800&auto=format&fit=crop';" alt="Kos Town Harbor" class="w-full h-40 object-cover">
                    <div class="p-4">
                        <h3 class="font-semibold text-xl mb-2 text-gray-800">Day 1: Ancient History & Kos Town Charm</h3>
                    </div>
                </div>
            </div>
        </div>

        <div id="island-hopping-section" class="section-screen">
            <header class="section-header p-4 flex items-center shadow-md">
                <button onclick="goBack()" class="p-2 rounded-full hover:bg-gray-200">
                    <i data-lucide="arrow-left" class="w-6 h-6 text-gray-700"></i>
                </button>
                <h2 class="text-xl font-bold text-gray-800 mx-auto">Island Hopping from Kos</h2>
            </header>
            <div class="p-6 space-y-8">
                <p class="text-gray-700 mb-4">Kos is an excellent base for exploring nearby islands. Here are some popular options for day trips:</p>
                <div class="card overflow-hidden p-0">
                    <img src="https://cdn.getyourguide.com/img/tour/b219904a91bc9dd83490526cf733932fe4c06143c9e347ccdacdec9e8e9ade6c.jpg/98.jpg" onerror="this.onerror=null;this.src='https://images.unsplash.com/photo-1628189531122-8353e813a8c5?q=80&w=800&auto=format&fit=crop';" alt="Nisyros Volcano" class="w-full h-40 object-cover">
                    <div class="p-4">
                        <h3 class="font-semibold text-xl mb-2 text-gray-800">Nisyros Island: The Volcanic Gem</h3>
                    </div>
                </div>
            </div>
        </div>


        <!-- AI Concierge Chat Interface -->
        <div id="concierge-chat" class="flex flex-col h-full">
            <header class="section-header p-4 flex items-center shadow-md flex-shrink-0">
                <button onclick="goBack()" class="p-2 rounded-full hover:bg-gray-200">
                    <i data-lucide="arrow-left" class="w-6 h-6 text-gray-700"></i>
                </button>
                <h2 class="text-xl font-bold text-gray-800 mx-auto">Digital AI Concierge</h2>
            </header>
            <div id="chat-window" class="flex-grow p-4 overflow-y-auto flex flex-col">
                <!-- Chat messages will be appended here -->
                 <div class="chat-bubble ai-bubble">
                    Hello! How can I help you today? Ask me anything about the apartment, the island, or local recommendations.
                </div>
            </div>
            <div class="p-4 bg-white border-t border-gray-200 flex-shrink-0">
                <div class="flex items-center">
                    <input type="text" id="chat-input" class="w-full border-gray-300 rounded-full py-2 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Type your message...">
                    <button onclick="sendMessage()" class="ml-3 bg-blue-500 text-white rounded-full p-3 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <i data-lucide="send" class="w-5 h-5"></i>
                    </button>
                </div>
            </div>
        </div>

    </div>

    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg opacity-0 transition-opacity duration-300">
        Password copied to clipboard!
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        let currentSection = null;
        const homeScreen = document.getElementById('home-screen');
        const conciergeScreen = document.getElementById('concierge-chat');

        // Simplified knowledge base from the HTML content
        const knowledgeBase = {
            "welcome": "Welcome to Diamante del Mar Phaedra on the beautiful island of Kos! We're happy to have you. This guide is designed to help you settle in and discover the best of the island.",
            "address": "The address is Diamante Del Mar Phaedra, Σοφοκλή Βενιζέλου 54 (Sophokli Venizelou 54), Kos Town, 853 00.",
            "check-in": "Check-in is any time after 4:00 PM (16:00). The lockbox code is 1723.",
            "check-out": "Check-out is by 11:00 AM. Please leave the keys in the lockbox.",
            "wifi": "The Wi-Fi network is 'Phaedra' and the password is 'Phaedra!22420@'.",
            "rules": "The main house rules are: no smoking indoors, no pets, no parties, and quiet hours are from 10:00 PM to 7:00 AM.",
            "host": "The host is Varthakouris Ioannis. You can reach him on WhatsApp or by phone at +30 6942 575314 for urgent issues.",
            "emergency": "The general emergency number is 112. Ambulance is 166, Police is 100, and Fire Department is 199.",
            "supermarket": "The nearest supermarket is AB Vassilopoulos, just a 1-minute walk away. There is also an ATM at its entrance.",
            "restaurant recommendation": "The host's top pick is Xasapaki, a unique butcher shop and steakhouse. Other great options include Alchimion & The Cup for brunch, Barbouni for seafood, and Patriko for authentic Greek meze.",
            "beach recommendation": "Lambi Beach is the closest. For a photogenic spot, visit Agios Stefanos. For a unique natural spa, go to Therma Beach. Paradise Beach is great for families.",
            "history recommendation": "You should visit The Asklepion, the most important archaeological site. Also, explore Zia Village for sunset views and Neratzia Castle by the harbor.",
            "transport": "Getting around is best by rental car/scooter. KTEL buses are an economical option. Cycling is great for short distances, and taxis are readily available.",
            "events": "There are many events part of HIPPOCRATEIA 2025. You can check the 'Events in Kos' section for a full list and filter by date.",
            "products": "You should buy local products like Kos Honey, Posa Cheese (wine cheese), Tomato Spoon Sweet, and Extra Virgin Olive Oil.",
            "itinerary": "There's a suggested 5-day itinerary in the 'Itinerary' section, covering history, beaches, and villages.",
            "island hopping": "From Kos, you can easily take day trips to Nisyros (volcano), Pserimos (tranquil beach), or do a 3-island cruise to Pserimos, Kalymnos, and Plati."
        };

        function findAnswerInContent(question) {
            const lowerCaseQuestion = question.toLowerCase();
            for (const key in knowledgeBase) {
                if (lowerCaseQuestion.includes(key)) {
                    return knowledgeBase[key];
                }
            }
            // More complex keyword matching
            if (lowerCaseQuestion.includes('eat') || lowerCaseQuestion.includes('food') || lowerCaseQuestion.includes('dinner')) return knowledgeBase['restaurant recommendation'];
            if (lowerCaseQuestion.includes('swim') || lowerCaseQuestion.includes('sand')) return knowledgeBase['beach recommendation'];
            if (lowerCaseQuestion.includes('see') || lowerCaseQuestion.includes('ruins') || lowerCaseQuestion.includes('ancient')) return knowledgeBase['history recommendation'];
            if (lowerCaseQuestion.includes('contact') || lowerCaseQuestion.includes('help')) return knowledgeBase['host'];


            return null;
        }

        async function askGemini(question) {
            const loadingBubble = addMessageToChat("...", "ai-bubble");
            const prompt = `Based on the context of a tourist staying in an apartment on Kos island, Greece, answer the following question concisely and helpfully. If the question is about a recommendation, provide one. Here is the question: "${question}"`;
            
            try {
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                const payload = { contents: chatHistory };
                const apiKey = ""; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                if (!response.ok) {
                    throw new Error(`API request failed with status ${response.status}`);
                }

                const result = await response.json();
                
                let text = "Sorry, I couldn't get a response. Please try again.";
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    text = result.candidates[0].content.parts[0].text;
                }
                 loadingBubble.textContent = text;

            } catch (error) {
                console.error("Error calling Gemini API:", error);
                loadingBubble.textContent = "I'm having trouble connecting. Please check the console for more details or ask me something I know locally, like the WiFi password.";
            }
        }


        function sendMessage() {
            const chatInput = document.getElementById('chat-input');
            const message = chatInput.value.trim();

            if (message) {
                addMessageToChat(message, 'user-bubble');
                chatInput.value = '';

                // Process the message
                const localAnswer = findAnswerInContent(message);
                if (localAnswer) {
                    setTimeout(() => addMessageToChat(localAnswer, 'ai-bubble'), 500);
                } else {
                    askGemini(message);
                }
            }
        }

        function addMessageToChat(message, bubbleClass) {
            const chatWindow = document.getElementById('chat-window');
            const messageElement = document.createElement('div');
            messageElement.className = `chat-bubble ${bubbleClass}`;
            messageElement.textContent = message;
            chatWindow.appendChild(messageElement);
            chatWindow.scrollTop = chatWindow.scrollHeight; // Auto-scroll to the latest message
            return messageElement;
        }

        // Add event listener for 'Enter' key
        document.getElementById('chat-input').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });


        function showSection(sectionId) {
            homeScreen.style.display = 'none';
            const section = document.getElementById(sectionId);
            if (section) {
                section.classList.add('active');
                currentSection = section;
                section.scrollTop = 0;
            }
        }
        
        function showConcierge() {
            homeScreen.style.display = 'none';
            conciergeScreen.classList.add('active');
            currentSection = conciergeScreen;
        }

        function goBack() {
            if (currentSection) {
                currentSection.classList.remove('active');
                currentSection = null;
            }
            setTimeout(() => {
                 homeScreen.style.display = 'block';
            }, 300);
        }

        function copyToClipboard(elementSelector) {
            const textToCopy = document.querySelector(elementSelector).innerText;
            const textArea = document.createElement('textarea');
            textArea.value = textToCopy;
            document.body.appendChild(textArea);
            textArea.select();
            try {
                document.execCommand('copy');
                showToast();
            } catch (err) {
                console.error('Failed to copy text: ', err);
            }
            document.body.removeChild(textArea);
        }

        function showToast() {
            const toast = document.getElementById('toast');
            toast.style.opacity = '1';
            setTimeout(() => {
                toast.style.opacity = '0';
            }, 2000);
        }

        // Dummy functions for events section to avoid errors
        function renderEvents() { console.log("Render events called"); }

    </script>
</body>
</html>
